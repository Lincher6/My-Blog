(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports={post:"Post_post__3LoA4",message:"Post_message__1R6OT",likes:"Post_likes__3-8q5"}},105:function(e,t,a){e.exports={login:"Login_login__2D5ge",title:"Login_title__3Fxpy",rememberMe:"Login_rememberMe__37P2g",text:"Login_text__2ASlj",error:"Login_error__3LyUz"}},106:function(e,t,a){e.exports={dialog:"Dialog_dialog__2fEIA",active:"Dialog_active__2S1Va",newMessages:"Dialog_newMessages__nos9f"}},114:function(e,t,a){e.exports={searchUsersWrapper:"UsersSearch_searchUsersWrapper__syuPn",searchUsers:"UsersSearch_searchUsers__2rjTS"}},116:function(e,t,a){e.exports={item:"SearchForm_item__3W6Vc",searchButton:"SearchForm_searchButton__97sZx"}},117:function(e,t,a){e.exports={myStuffWrapper:"MyStuff_myStuffWrapper__1jU0J",myStuff:"MyStuff_myStuff__1bGwd"}},118:function(e,t,a){e.exports={MyPosts:"MyPosts_MyPosts__2DSLP",newPost:"MyPosts_newPost__F_-Hb",posts:"MyPosts_posts__F7ejN",title:"MyPosts_title__UxB3b"}},119:function(e,t,a){e.exports={messageForm:"MessageForm_messageForm__25fzO",errorMessage:"MessageForm_errorMessage__yPROj"}},120:function(e,t,a){e.exports={searchField:"Search_searchField__39ziV",searchIcon:"Search_searchIcon__3eEZQ"}},121:function(e,t,a){e.exports={users:"Dialogs_users__8NHan",findUsers:"Dialogs_findUsers__1AlSv"}},122:function(e,t,a){e.exports={splashScreen:"SplashScreen_splashScreen__xv-4X",spin:"SplashScreen_spin__27Drk",picture:"SplashScreen_picture__1l1Do"}},13:function(e,t,a){e.exports=a.p+"static/media/empty-avatar.2da1ff8d.png"},154:function(e,t,a){e.exports={users:"Users_users__2ZEwD"}},155:function(e,t,a){e.exports={loader:"Loader_loader__3jmkT",spin:"Loader_spin__NOJvx"}},156:function(e,t,a){e.exports={usersPage:"UsersPage_usersPage__3GGNh"}},159:function(e,t,a){e.exports={profileContent:"ProfileContent_profileContent__1jnJp"}},161:function(e,t,a){e.exports=a.p+"static/media/gearIcon.d7936c3e.png"},162:function(e,t,a){e.exports={profileMenu:"ProfileMenu_profileMenu__2ae8w"}},163:function(e,t,a){e.exports=a.p+"static/media/instagram.b1c58ee1.svg"},164:function(e,t,a){e.exports=a.p+"static/media/vk.5d9ecf94.png"},165:function(e,t,a){e.exports=a.p+"static/media/telegram.a888fec0.svg"},166:function(e,t,a){e.exports=a.p+"static/media/youtube.a04938a0.png"},167:function(e,t,a){e.exports={dialogsWrapper:"DialogsPage_dialogsWrapper__1sMjG"}},168:function(e,t,a){e.exports={messages:"Messages_messages__3lekQ"}},169:function(e,t,a){e.exports=a.p+"static/media/BlobSound.ddf5f03e.ogg"},170:function(e,t,a){e.exports=a.p+"static/media/log-in.41ecc497.png"},171:function(e,t,a){e.exports=a.p+"static/media/register.8f14a4e6.png"},179:function(e,t,a){e.exports=a(316)},184:function(e,t,a){},20:function(e,t,a){e.exports={nav:"Navbar_nav__19yQo",logo:"Navbar_logo__2W13o",page:"Navbar_page__37hTu",item:"Navbar_item__1iZJp",newMessageCount:"Navbar_newMessageCount__6m2se",active:"Navbar_active__12Gpb"}},237:function(e,t,a){e.exports=a.p+"static/media/plus.81012bb8.png"},25:function(e,t,a){e.exports={home:"HomePage_home__ZiYMh",title:"HomePage_title__1vlbs",logo:"HomePage_logo__qN3DH",heartBeat:"HomePage_heartBeat__3Tf6D",pages:"HomePage_pages__1O9p3",page:"HomePage_page__34JNs",pageText:"HomePage_pageText__23k-w",jumpy:"HomePage_jumpy__1yThe"}},316:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(86),o=a.n(s),i=(a(184),a(144)),c=a(145),l=a(176),u=a(146),m=a(177),d=a(78),p=a.n(d),f=a(20),g=a.n(f),_=a(4),E=a(54),h=a.n(E),b=a(89),v=a.n(b),N=a(90),O=a.n(N),x=a(91),w=a.n(x),y=a(3),S=Object(y.b)(function(e){return{currentDialogId:e.dialogsReducer.currentDialogId,isAuth:e.authReducer.isAuthorized,newMessageCount:e.appReducer.newMessageCount}},null)(function(e){return r.a.createElement("nav",{className:g.a.nav},r.a.createElement("div",{className:g.a.logo},r.a.createElement(_.b,{to:"/"},r.a.createElement("img",{src:h.a,alt:""}))),r.a.createElement("div",{className:g.a.page},r.a.createElement(_.b,{to:e.isAuth?"/profile":"/login",exact:!0,activeClassName:g.a.active},r.a.createElement("div",{className:g.a.item},r.a.createElement("img",{src:v.a,alt:""}),r.a.createElement("div",null,e.isAuth?"Profile":"Login")))),r.a.createElement("div",{className:g.a.page},r.a.createElement(_.b,{to:"/dialogs/".concat(e.currentDialogId||""),activeClassName:g.a.active},r.a.createElement("div",{className:g.a.item},r.a.createElement("img",{src:O.a,alt:""}),r.a.createElement("div",null,"Dialogs"),e.newMessageCount?r.a.createElement("div",{className:g.a.newMessageCount},r.a.createElement("div",null,e.newMessageCount<99?e.newMessageCount:99)):null))),r.a.createElement("div",{className:g.a.page},r.a.createElement(_.b,{to:"/users",activeClassName:g.a.active},r.a.createElement("div",{className:g.a.item},r.a.createElement("img",{src:w.a,alt:""}),r.a.createElement("div",null,"Users")))))}),P=a(66),I=a(1),j=a.n(I),k=a(7),T=a(65),M=a(2),A=a(150).create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"6ecf6817-783d-41e9-836b-3c4ab276cf8b"}}),D=function(e,t,a){return A.get("/users?count=".concat(t,"&page=").concat(e,"&term=").concat(a||"")).then(function(e){return e.data})},R=function(e){return A.post("/follow/".concat(e)).then(function(e){return e.data})},L=function(e){return A.delete("/follow/".concat(e)).then(function(e){return e.data})},U=function(e){return A.get("/profile/".concat(e)).then(function(e){return e.data})},C=function(e){return A.get("/profile/status/".concat(e)).then(function(e){return e.data})},F=function(e){return A.put("/profile/status/",{status:e}).then(function(e){return e.data})},G=function(e){return A.put("/profile",Object(M.a)({},e)).then(function(e){return e.data})},W=function(){return A.get("/auth/me").then(function(e){return e.data})},z=function(e){return A.post("/auth/login",{email:e.login,password:e.password,rememberMe:e.rememberMe}).then(function(e){return e.data})},H=function(){return A.delete("/auth/login").then(function(e){return e.data})},V=function(){return A.get("/dialogs").then(function(e){return e.data})},J=function(e,t){return A.post("/dialogs/".concat(e,"/messages"),{body:t}).then(function(e){return e.data})},B=function(e){return A.get("/dialogs/".concat(e,"/messages/")).then(function(e){return e.data})},Z=function(e){return A.put("/dialogs/".concat(e)).then(function(e){return e.data})},q=function(e){return A.delete("dialogs/messages/".concat(e)).then(function(e){return e.data})},K=function(){return A.get("dialogs/messages/new/count").then(function(e){return e.data})},Q={users:[],pageSize:50,totalUserCount:0,currentPage:1,isLoading:!1,followingInProgress:[],searchValue:"",portionNumber:1},Y=function(e){return{type:"FOLLOW",id:e}},X=function(e){return{type:"UNFOLLOW",id:e}},$=function(e){return{type:"SET_PORTION_NUMBER",payload:e}},ee=function(e){return{type:"TOGGLE_IS_LOADING",isLoading:e}},te=function(e,t){return{type:"TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return function(){var n=Object(k.a)(j.a.mark(function n(r){var s;return j.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"SET_SEARCH_VALUE",payload:e}),r({type:"SET_CURRENT_PAGE",currentPage:t}),r(ee(!0)),n.next=5,D(t,a,e);case 5:s=n.sent,r(ee(!1)),r({type:"SET_USERS",users:s.items}),r({type:"SET_TOTAL_USER_COUNT",totalUserCount:s.totalCount});case 9:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},ne=function(){var e=Object(k.a)(j.a.mark(function e(t,a,n,r){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(te(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&(r(te(!1,n)),r(t(n)));case 5:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),re=a(37),se=a.n(re),oe=a(13),ie=a.n(oe),ce=a(31),le=a(32);function ue(){var e=Object(ce.a)(["\n    width: 20px;\n    height: 20px;\n    margin: 10px;\n"]);return ue=function(){return e},e}function me(){var e=Object(ce.a)(["\n        background: none;\n        box-shadow: none;\n    "]);return me=function(){return e},e}function de(){var e=Object(ce.a)(["\n        border: 1px solid firebrick;\n    "]);return de=function(){return e},e}function pe(){var e=Object(ce.a)(["\n    height: 35px;\n    width: 100%;\n    resize: none;\n    padding: 5px 10px;\n    box-sizing: border-box;\n    background: #18191a;\n    box-shadow: inset 1px 1px 1px 1px black;\n    border-radius: 2px;\n    color: whitesmoke;\n    outline: none;\n    font-size: 16px;\n    margin: 5px 0;\n    \n    &:-webkit-autofill {\n    -webkit-box-shadow: inset 0 0 0px 1000px #000;\n    -webkit-text-fill-color: whitesmoke;\n    transition: background-color 5000s ease-in-out 0s;\n    }\n    \n    ","\n    \n    ","  \n"]);return pe=function(){return e},e}function fe(){var e=Object(ce.a)(["\n        border: 1px solid firebrick;\n    "]);return fe=function(){return e},e}function ge(){var e=Object(ce.a)(["\n    height: 70px;\n    width: 100%;\n    resize: none;\n    padding: 5px 10px;\n    box-sizing: border-box;\n    background: #18191a;\n    box-shadow: 1px 1px 1px 1px black;\n    border-radius: 2px;\n    color: whitesmoke;\n    outline: none;\n    font-size: 16px;\n    margin: 0;\n    \n    ","  \n"]);return ge=function(){return e},e}function _e(){var e=Object(ce.a)(["\n        background: steelblue;\n    "]);return _e=function(){return e},e}function Ee(){var e=Object(ce.a)(["\n        background: var(--darkThree);\n    "]);return Ee=function(){return e},e}function he(){var e=Object(ce.a)(["\n    margin: 5px 0;\n    font-size: 14px;\n    min-width: 80px;\n    max-width: 200px;\n    padding: 5px;\n    border: none;\n    border-radius: 3px;\n    background: firebrick;\n    box-shadow: 2px 2px 2px black;\n    color: white;\n    font-weight: bold;\n    text-shadow: 1px 1px 1px black;\n    outline: none;\n    \n    &:active {\n        transform: translateX(1px) translateY(1px);\n        box-shadow: inset 2px 2px 4px 1px rgba(0, 0, 0, .4);\n    }\n    \n    &:disabled {\n        opacity: .6;\n    }\n    \n    ","\n    \n    ","    \n    \n"]);return he=function(){return e},e}var be=le.b.button(he(),function(e){return e.dim&&Object(le.a)(Ee())},function(e){return e.blue&&Object(le.a)(_e())}),ve=le.b.textarea(ge(),function(e){return e.error&&Object(le.a)(fe())}),Ne=le.b.input(pe(),function(e){return e.error&&Object(le.a)(de())},function(e){return e.empty&&Object(le.a)(me())}),Oe=le.b.input.attrs({type:"checkbox"})(ue()),xe=function(e){return r.a.createElement("div",{className:se.a.user},r.a.createElement("div",null,r.a.createElement(_.b,{to:"/profile/".concat(e.id)},r.a.createElement("div",{className:se.a.picture},r.a.createElement("img",{src:null!=e.photos.small?e.photos.small:ie.a,alt:""}))),r.a.createElement("div",{className:se.a.followButton},e.followed?r.a.createElement(be,{dim:!0,onClick:function(){return e.unFollow(e.id)},disabled:e.followingInProgress.some(function(t){return t===e.id})},"Unfollow"):r.a.createElement(be,{onClick:function(){return e.follow(e.id)},disabled:e.followingInProgress.some(function(t){return t===e.id})},"Follow"))),r.a.createElement("div",{className:se.a.userInfo},r.a.createElement("div",null,r.a.createElement(_.b,{to:"/profile/".concat(e.id),className:se.a.name},r.a.createElement("div",null,e.name)),r.a.createElement("div",{className:se.a.status},e.status||"No status")),r.a.createElement("div",null,r.a.createElement("div",{className:se.a.location},r.a.createElement("div",null,"\u0421\u0442\u0440\u0430\u043d\u0430: ","user.location.country"),r.a.createElement("div",null,"\u0413\u043e\u0440\u043e\u0434: ","user.location.city"))),r.a.createElement(_.b,{to:"/dialogs/".concat(e.id),className:se.a.sendMessage,onClick:function(){return e.startDialog(e.id)}},r.a.createElement(be,{dim:!0},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"))))},we={profile:null,currentProfileId:null,isLoading:!1,profileStatus:null,posts:[{id:1,postText:"Hi, how are you?",likes:5},{id:2,postText:"It's my first post",likes:13},{id:3,postText:"Now second",likes:22},{id:4,postText:"And final",likes:1}]},ye=function(e){return{type:"SET_PROFILE",profile:e}},Se=function(e){return{type:"SET_PROFILE_STATUS",profileStatus:e}},Pe=function(e){return{type:"TOGGLE_IS_LOADING",isLoading:e}},Ie=function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){var n,r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Pe(!0)),t.next=3,U(e);case 3:return n=t.sent,t.next=6,C(e);case 6:r=t.sent,a(Se(r)),a(ye(n)),a({type:"SET_CURRENT_PROFILE_ID",currentProfileId:e}),a(Pe(!1));case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){var n;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:n=t.sent,a(Se(n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ke={userId:null,login:null,email:null,likes:123,userData:null,isAuthorized:!1,isLoading:!1,authError:!1},Te=function(e,t,a){return{type:"SET_AUTH_DATA",data:{userId:e,login:t,email:a}}},Me=function(e,t){return{type:"SET_USER_DATA",data:e,isAuthorized:t}},Ae=function(){return function(){var e=Object(k.a)(j.a.mark(function e(t){var a,n,r,s,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:if(0!==(a=e.sent).resultCode){e.next=7;break}return n=a.data,r=n.id,s=n.login,o=n.email,t(Te(r,s,o)),e.abrupt("return",t(De(r)));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},De=function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){var n;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:return n=t.sent,a(ye(n)),a(Me(n,!0)),t.abrupt("return",n);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Re={isInitialized:!1,newMessageCount:0},Le=function(e){return{type:"SET_NEW_MESSAGE_COUNT",payload:e}},Ue={currentDialogId:null,currentDialogPhoto:null,dialogs:[],messages:[{body:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430",isMine:!0}],newMessage:"",isLoading:!1,messagesFetching:!1},Ce=function(e){return{type:"ADD_MESSAGE",message:e}},Fe=function(e){return{type:"SET_DIALOGS",payload:e}},Ge=function(e){return{type:"SET_CURRENT_DIALOG_ID",payload:e}},We=function(e){return{type:"TOGGLE_IS_LOADING",payload:e}},ze=function(e){return{type:"TOGGLE_MESSAGES_FETCHING",payload:e}},He=function(){return function(){var e=Object(k.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:a=e.sent,t(Fe(a));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ve=function(){return function(){var e=Object(k.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(We(!0)),e.next=3,V();case 3:a=e.sent,console.log(a),t(Fe(a)),t(We(!1));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Je=function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){var n,r,s;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(ze(!0)),t.next=3,U(e);case 3:return(n=t.sent).photos&&a({type:"SET_CURRENT_DIALOG_PHOTO",payload:n.photos.small}),t.next=7,B(e);case 7:return r=t.sent,a({type:"GET_MESSAGES",messages:r.items}),a(ze(!1)),t.next=12,K();case 12:s=t.sent,a(Le(s));case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Be=a(154),Ze=a.n(Be),qe=a(155),Ke=a.n(qe),Qe=function(){return r.a.createElement("div",{className:Ke.a.loader})},Ye={follow:function(e){return function(t){ne(Y,R,e,t)}},unFollow:function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ne(X,L,e,a);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},startDialog:function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(e);case 2:a(He()),a(Ge(e)),a(Je(e));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Xe=Object(y.b)(function(e){return{users:e.usersReducer.users,followingInProgress:e.usersReducer.followingInProgress,usersFetching:e.usersReducer.usersFetching}},Ye)(function(e){return r.a.createElement("div",{className:Ze.a.users},e.usersFetching?r.a.createElement(Qe,null):e.users.map(function(t){return r.a.createElement(xe,Object.assign({key:t.id},t,e))}))}),$e=a(156),et=a.n($e),tt=a(114),at=a.n(tt),nt=a(8),rt=a(116),st=a.n(rt),ot=[{filed:"name",name:"\u0418\u043c\u044f"},{filed:"country",name:"\u0421\u0442\u0440\u0430\u043d\u0430"},{filed:"city",name:"\u0413\u043e\u0440\u043e\u0434"},{filed:"year",name:"\u0413\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}],it=Object(nt.c)({mapPropsToValues:function(e){return{getUsers:e.getUsers,setPortionNumber:e.setPortionNumber}},handleSubmit:function(e){e.setPortionNumber(1),e.getUsers(e.name)}})(function(e){var t=e.handleChange;return r.a.createElement(nt.b,null,ot.map(function(e,a){return r.a.createElement("div",{key:a,className:st.a.item},r.a.createElement("div",null,e.name,":"),r.a.createElement(Ne,{onChange:t,name:e.filed}))}),r.a.createElement("div",{className:st.a.searchButton},r.a.createElement(be,{blue:!0,type:"submit"},"\u0418\u0441\u043a\u0430\u0442\u044c")))}),ct=function(e){return r.a.createElement("div",{className:at.a.searchUsersWrapper},r.a.createElement("div",{className:at.a.searchUsers},r.a.createElement(it,e)))},lt=a(47),ut=a.n(lt),mt=a(320),dt=function(e){for(var t=e.totalUserCount,a=e.pageSize,n=void 0===a?50:a,s=e.currentPage,o=void 0===s?1:s,i=e.portionSize,c=void 0===i?10:i,l=e.onPageChange,u=e.portionNumber,m=e.setPortionNumber,d=Math.ceil(t/n),p=[],f=1;f<=d;f++)p.push(f);var g=t/(n*c),_=(u-1)*c+1,E=u*c,h=p.filter(function(e){return e>=_&&e<=E}),b=[ut.a.pageNumber];_<2&&b.push(ut.a.disable);var v=[ut.a.pageNumber];u>g&&v.push(ut.a.disable);return r.a.createElement("div",{className:ut.a.pageNumbers},r.a.createElement("div",{className:b.join(" "),onClick:function(){m(u-1)}},r.a.createElement(mt.a,null)),h.map(function(e){return r.a.createElement("div",{key:e,className:(o===e?ut.a.currentPage:null)+" "+ut.a.pageNumber,onClick:function(){return l(e)}},e)}),r.a.createElement("div",{className:v.join(" "),onClick:function(){m(u+1)}},r.a.createElement(mt.b,null)))},pt={getUsers:ae,setPortionNumber:$},ft=Object(y.b)(function(e){return{users:e.usersReducer.users,pageSize:e.usersReducer.pageSize,totalUserCount:e.usersReducer.totalUserCount,currentPage:e.usersReducer.currentPage,isLoading:e.usersReducer.isLoading,portionNumber:e.usersReducer.portionNumber,searchValue:e.usersReducer.searchValue}},pt)(function(e){Object(n.useEffect)(function(){0===e.users.length&&e.getUsers(e.searchValue)},[]);var t=r.a.createElement(dt,{pageSize:e.pageSize,totalUserCount:e.totalUserCount,currentPage:e.currentPage,onPageChange:function(t){e.getUsers(e.searchValue,t,e.pageSize)},portionNumber:e.portionNumber,setPortionNumber:e.setPortionNumber});return r.a.createElement("div",{className:et.a.usersPage},e.isLoading?r.a.createElement(Qe,null):r.a.createElement("div",null,t,r.a.createElement(Xe,null),t),r.a.createElement(ct,{getUsers:e.getUsers,setPortionNumber:e.setPortionNumber}))}),gt=a(11),_t=a(100),Et=a(76),ht=a.n(Et),bt=function(e){var t=e.photos;return r.a.createElement("div",{className:ht.a.avatar},r.a.createElement("img",{src:null!=t.large?t.large:ie.a,alt:""}))},vt=a(175),Nt=a(69),Ot=a.n(Nt),xt=[{field:"status",name:"\u0421\u0430\u0442\u0443\u0441"},{field:"aboutMe",name:"\u041e\u0431\u043e \u043c\u043d\u0435"},{field:"lookingForAJob",name:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"},{field:"lookingForAJobDescription",name:" \u041e \u0440\u0430\u0431\u043e\u0442\u0435"}],wt=Object(nt.c)({mapPropsToValues:function(e){var t=e.profileStatus,a=e.aboutMe,n=e.lookingForAJob,r=e.isAuth,s=e.updateProfileInfo,o=e.setProfileStatus,i=e.profile,c=e.userId,l=e.fullName;return{status:t||"None",aboutMe:a||"None",lookingForAJob:n?"\u0414\u0430":"\u041d\u0435\u0442",lookingForAJobDescription:e.lookingForAJobDescription||"None",isAuth:r,updateProfileInfo:s,setProfileStatus:o,profile:i,userId:c,fullName:l}},handleSubmit:function(e){e.setProfileStatus(e.status),e.updateProfileInfo(e.userId,{aboutMe:e.aboutMe||"None",lookingForAJob:"\u0414\u0430"===e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription||"None",fullName:e.fullName})}})(function(e){var t=e.handleChange,a=e.values,s=Object(n.useState)(!1),o=Object(vt.a)(s,2),i=o[0],c=o[1];return r.a.createElement(nt.b,{className:Ot.a.form},a.isAuth?r.a.createElement(be,{type:i?"button":"submit",className:Ot.a.button,onClick:function(){return c(!i)},blue:!i},i?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"):null,xt.map(function(e,n){return r.a.createElement("div",{className:Ot.a.item,key:n},r.a.createElement("div",{className:Ot.a.char},e.name),r.a.createElement(Ne,{className:Ot.a.charValue,onChange:t,name:e.field,empty:!i,disabled:!i,value:a[e.field]}))}))}),yt=function(e){return r.a.createElement(wt,e)},St={getProfile:Ie,getProfileStatus:je,setProfileStatus:function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:0===F(e).resultCode&&a(Se(e));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateProfileInfo:function(e,t){return function(){var e=Object(k.a)(j.a.mark(function e(a){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:e.sent;case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},Pt=Object(y.b)(function(e){return{profile:e.profileReducer.profile,authUserId:e.authReducer.userId,profileStatus:e.profileReducer.profileStatus}},St)(function(e){var t=e.profile,a=Object(_t.a)(e,["profile"]);return r.a.createElement("div",{className:ht.a.info},r.a.createElement(bt,{photos:t.photos}),r.a.createElement("div",null,r.a.createElement("div",{className:ht.a.name},t.fullName),r.a.createElement(yt,Object.assign({},a,t,{isAuth:a.authUserId===t.userId}))))}),It=a(159),jt=a.n(It),kt=a(117),Tt=a.n(kt),Mt=function(e){return r.a.createElement("div",{className:Tt.a.myStuffWrapper},r.a.createElement("div",{className:Tt.a.myStuff},r.a.createElement("div",null,r.a.createElement("div",null,"Documents"),r.a.createElement("div",{style:{textAlign:"right"}},"(12)")),r.a.createElement("div",null,r.a.createElement("div",null,"Videos"),r.a.createElement("div",{style:{textAlign:"right"}},"(43)")),r.a.createElement("div",null,r.a.createElement("div",null,"Pictures"),r.a.createElement("div",{style:{textAlign:"right"}},"(145)")),r.a.createElement("div",null,r.a.createElement("div",null,"Music"),r.a.createElement("div",{style:{textAlign:"right"}},"(3)")),r.a.createElement("div",null,r.a.createElement("div",null,"Games"),r.a.createElement("div",{style:{textAlign:"right"}},"(12)"))))},At=a(118),Dt=a.n(At),Rt=a(104),Lt=a.n(Rt),Ut=function(e){return r.a.createElement("div",{className:Lt.a.post},r.a.createElement("img",{src:e.smallPicture||ie.a,alt:""}),r.a.createElement("div",{className:Lt.a.message},e.message),r.a.createElement("div",{className:Lt.a.likes},r.a.createElement("span",{role:"img","aria-labelledby":"like"},r.a.createElement(mt.d,null)," "),e.likes))},Ct=a(119),Ft=a.n(Ct),Gt=function(e){return r.a.createElement(nt.b,{className:Ft.a.messageForm},r.a.createElement(ve,{autoFocus:!0,error:e.errors.newMessage,onChange:e.handleChange,name:"newMessage",placeholder:"\u0422\u0435\u043a\u0441\u0442",onKeyDown:function(t){return function(e,t){"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),t())}(t,e.handleSubmit)}}),r.a.createElement("div",{className:Ft.a.errorMessage},e.errors.newMessage),r.a.createElement("div",null,r.a.createElement(be,{type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))},Wt=a(29),zt={addPost:function(e){return{type:"ADD_POST",newPostText:e}}},Ht=Object(y.b)(function(e){return{profile:e.profileReducer.profile,posts:e.profileReducer.posts}},zt)(function(e){var t=e.profile,a=Object(_t.a)(e,["profile"]),n=Object(nt.c)({validationSchema:Wt.a().shape({newMessage:Wt.b().required("\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),handleSubmit:function(e){a.addPost(e.newMessage)}})(Gt);return r.a.createElement("div",null,r.a.createElement("div",{className:Dt.a.MyPosts},r.a.createElement(n,null),r.a.createElement("div",{className:Dt.a.posts},a.posts.map(function(e,a){return r.a.createElement(Ut,{key:e.id,message:e.postText,likes:e.likes,smallPicture:t?t.photos.small:null})}))))}),Vt=a(70),Jt=a.n(Vt),Bt=function(e){return r.a.createElement("div",{className:Jt.a.myFriendsWrapper},r.a.createElement("div",{className:Jt.a.myFriends},r.a.createElement("div",{className:Jt.a.friend},r.a.createElement("img",{src:ie.a,alt:""}),r.a.createElement("div",null,"FriendName")),r.a.createElement("div",{className:Jt.a.friend},r.a.createElement("img",{src:ie.a,alt:""}),r.a.createElement("div",null,"FriendName")),r.a.createElement("div",{className:Jt.a.friend},r.a.createElement("img",{src:ie.a,alt:""}),r.a.createElement("div",null,"FriendName"))))},Zt=function(){return r.a.createElement("div",{className:jt.a.profileContent},r.a.createElement(Mt,null),r.a.createElement(Ht,null),r.a.createElement(Bt,null))},qt={getProfile:Ie,getProfileStatus:je},Kt=Object(gt.d)(Object(y.b)(function(e){return{profile:e.profileReducer.profile,authUserId:e.authReducer.userId,isLoading:e.profileReducer.isLoading}},qt),P.g)(function(e){return Object(n.useLayoutEffect)(function(){window.scrollTo(0,0);var t=e.match.params.userId;e.getProfileStatus(t),e.getProfile(t)},[]),e.isLoading||!e.profile?r.a.createElement(Qe,null):r.a.createElement("div",null,r.a.createElement(Pt,null),r.a.createElement(Zt,null))}),Qt=a(39),Yt=a.n(Qt),Xt=a(50),$t=a.n(Xt),ea=a(161),ta=a.n(ea),aa=a(162),na=a.n(aa),ra=function(e){return r.a.createElement("div",{className:na.a.profileMenu},r.a.createElement("div",null,r.a.createElement(_.b,{to:"/profile",exact:!0},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("div",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement("div",{onClick:e.logout},"\u0412\u044b\u0445\u043e\u0434"))},sa=function(e){return r.a.createElement("div",{className:$t.a.profileSmall},r.a.createElement("div",{className:$t.a.options},r.a.createElement("img",{src:ta.a,alt:""}),r.a.createElement("div",{className:$t.a.menu},r.a.createElement(ra,{logout:e.logout}))),r.a.createElement("div",{className:$t.a.photoSmall},r.a.createElement(_.b,{to:"/profile"},r.a.createElement("img",{src:null!=e.photos.small?e.photos.small:ie.a,alt:""}))),r.a.createElement(_.b,{to:"/profile"},r.a.createElement("div",{className:$t.a.name},e.login),r.a.createElement("div",{className:$t.a.likes},"Likes ",e.likes)))},oa=a(120),ia=a.n(oa),ca=Object(P.g)(Object(y.b)(null,{getUsers:ae,setPortionNumber:$})(function(e){var t=Object(nt.c)({mapPropsToValues:function(){return{search:""}},handleSubmit:function(t){e.setPortionNumber(1),e.getUsers(t.search),e.history.push("/users")}})(function(e){var t=e.handleSubmit;return r.a.createElement(nt.b,{className:ia.a.searchField},r.a.createElement("div",{className:ia.a.searchIcon},r.a.createElement(mt.c,{onClick:t})),r.a.createElement("div",null,r.a.createElement(nt.a,{type:"text",name:"search",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"})))});return r.a.createElement(t,null)})),la=Object(y.b)(function(e){return{login:e.authReducer.login,likes:e.authReducer.likes,userData:e.authReducer.userData,isAuthorized:e.authReducer.isAuthorized}},{getAuthData:Ae,logout:function(){return function(){var e=Object(k.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:0===e.sent.resultCode&&(t(Te(null,null,null)),t(Me({},!1)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(function(e){return r.a.createElement("div",{className:Yt.a.headerWrapper},r.a.createElement("header",{className:Yt.a.header},r.a.createElement("div",{className:Yt.a.appName},"VIRAL"),r.a.createElement("div",{className:Yt.a.search},r.a.createElement(ca,null)),r.a.createElement("div",{className:Yt.a.auth},r.a.createElement("div",null,e.isAuthorized?r.a.createElement(sa,Object.assign({login:e.login,logout:e.logout,likes:e.likes},e.userData)):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(_.b,{className:Yt.a.login,to:"/login"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("div",null,r.a.createElement("a",{className:Yt.a.register,href:"https://social-network.samuraijs.com/signUp",target:"_blank"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))))),r.a.createElement("div",{className:Yt.a.bottom}))}),ua=a(105),ma=a.n(ua),da=a(71),pa=a.n(da),fa=function(e){var t=e.errors,a=e.touched,n=e.handleChange,s=e.values;return r.a.createElement(nt.b,null,r.a.createElement("div",{className:pa.a.field},r.a.createElement(Ne,{onChange:n,placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",error:a.login&&t.login,value:s.login}),r.a.createElement("div",{className:pa.a.errorMessage}," ",a.login&&t.login?t.login:null," ")),r.a.createElement("div",{className:pa.a.field},r.a.createElement(Ne,{onChange:n,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",error:a.password&&t.password,value:s.password}),r.a.createElement("div",{className:pa.a.errorMessage},a.password&&t.password)),r.a.createElement("div",{className:pa.a.rememberMe},r.a.createElement(Oe,{name:"rememberMe"}),r.a.createElement("div",null,"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f")),r.a.createElement("div",null,r.a.createElement(be,{type:"submit"},"\u0412\u043e\u0439\u0442\u0438")))},ga={login:function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){var n;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:0===(n=t.sent).resultCode?a(Ae()):(n.messages.length>0&&n.messages[0],a({type:"SET_AUTH_ERROR",error:!0}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},_a=Object(gt.d)(Object(y.b)(function(e){return{isAuthorized:e.authReducer.isAuthorized,authError:e.authReducer.authError}},ga),P.g)(function(e){var t=Object(nt.c)({mapPropsToValues:function(){return{login:"",password:""}},validationSchema:Wt.a().shape({login:Wt.b().min(3).required("\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:Wt.b().min(3).required("\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),handleSubmit:function(t){e.login(t)}})(fa);return e.isAuthorized?r.a.createElement(P.a,{to:"/profile"}):r.a.createElement("div",{className:ma.a.login},r.a.createElement("div",{className:ma.a.title},"\u0412\u0445\u043e\u0434"),r.a.createElement(t,null),e.authError?r.a.createElement("div",{className:ma.a.error},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"):null)}),Ea=a(33),ha=a.n(Ea),ba=a(163),va=a.n(ba),Na=a(164),Oa=a.n(Na),xa=a(165),wa=a.n(xa),ya=a(166),Sa=a.n(ya),Pa=function(){var e=[{icon:va.a,name:"\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c",a:"https://instagram.com/itkamasutra"},{icon:Oa.a,name:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",a:"https://vk.com/itkamasutra"},{icon:wa.a,name:"\u0422\u0435\u043b\u0435\u0433\u0440\u0430\u043c",a:"https://telegram.me/itkamasutra"},{icon:Sa.a,name:"YouTube",a:"https://www.youtube.com/playlist?list=PLcvhF2Wqh7DNVy1OCUpG3i5lyxyBWhGZ8"}];return r.a.createElement("div",{className:ha.a.footerWrapper},r.a.createElement("div",{className:ha.a.top}),r.a.createElement("div",{className:ha.a.footer},r.a.createElement("div",null,e.map(function(e,t){return r.a.createElement("div",{className:ha.a.row,key:t},r.a.createElement("div",{className:ha.a.icon},r.a.createElement("img",{src:e.icon,alt:""})),r.a.createElement("a",{href:e.a,target:"_blank",className:ha.a.ref},e.name))})),r.a.createElement("div",null,[{icon:"IT-KAMASUTRA:",name:"https://it-kamasutra.com",a:"https://it-kamasutra.com"},{icon:"IT-INCUBATOR:",name:"https://it-incubator.bym",a:"https://it-incubator.by"},{icon:"PATREON:",name:"https://www.patreon.com/itkamasutra",a:"https://www.patreon.com/itkamasutra"},{icon:"API:",name:"https://social-network.samuraijs.com/",a:"https://social-network.samuraijs.com/"}].map(function(e,t){return r.a.createElement("div",{className:ha.a.row,key:t},r.a.createElement("div",{className:ha.a.website},e.icon),r.a.createElement("a",{href:e.a,target:"_blank",className:ha.a.ref},e.name))}))))},Ia=a(167),ja=a.n(Ia),ka=a(121),Ta=a.n(ka),Ma=a(106),Aa=a.n(Ma),Da=function(e){return r.a.createElement(_.b,{to:"/dialogs/".concat(e.id),className:Aa.a.dialog,activeClassName:Aa.a.active,onClick:function(){return e.setCurrentDialog(e.id,e.index)}},r.a.createElement("div",null,r.a.createElement("img",{src:e.photos.small||ie.a,alt:""})),r.a.createElement("div",null,e.userName),e.hasNewMessages?r.a.createElement("div",{className:Aa.a.newMessages},r.a.createElement("div",null,e.newMessagesCount<99?e.newMessagesCount:99)):null)},Ra=(a(237),{getDialogs:Ve,getMessages:Je,setCurrentDialogId:Ge,updateDialogs:He}),La=Object(gt.d)(P.g,Object(y.b)(function(e){return{dialogs:e.dialogsReducer.dialogs,isLoading:e.dialogsReducer.isLoading}},Ra))(function(e){var t=function(t){e.setCurrentDialogId(t),e.getMessages(t),e.updateDialogs()};return r.a.createElement("div",{className:Ta.a.users},e.dialogs.map(function(e,a){return r.a.createElement(Da,Object.assign({setCurrentDialog:t,key:e.id,index:a},e))}),r.a.createElement("div",{className:Ta.a.findUsers},r.a.createElement(_.b,{to:"/users/"},r.a.createElement(be,{dim:!0},"\u041d\u0430\u0439\u0442\u0438"))))}),Ua=a(168),Ca=a.n(Ua),Fa=a(51),Ga=a.n(Fa),Wa=function(e){var t=new Date(e.addedAt).toLocaleDateString(),a=[Ga.a.messageWrapper];return e.isMine||a.push(Ga.a.personMessage),r.a.createElement("div",{className:a.join(" ")},r.a.createElement("div",{className:Ga.a.photo},e.isMine?r.a.createElement("img",{src:e.myPhoto||ie.a,alt:""}):r.a.createElement("img",{src:e.currentDialogPhoto||ie.a,alt:""})),r.a.createElement("div",{className:Ga.a.message},e.body,r.a.createElement("div",{className:Ga.a.date},e.addedAt&&t),r.a.createElement("div",{className:Ga.a.delete,onClick:function(){return e.deleteMessage(e.id)}},r.a.createElement(mt.e,null))))},za=a(169),Ha=new Audio(a.n(za).a),Va={getMessages:Je,sendMessage:function(e,t){return function(){var a=Object(k.a)(j.a.mark(function a(n){return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(Ce(t)),a.next=3,J(e,t);case 3:0===a.sent.resultCode&&n(He());case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},deleteMessage:function(e){return function(){var t=Object(k.a)(j.a.mark(function t(a){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"DELETE_MESSAGE",payload:e}),t.next=3,q(e);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Ja=Object(y.b)(function(e){return{messages:e.dialogsReducer.messages,userId:e.authReducer.userId,currentDialogId:e.dialogsReducer.currentDialogId,currentDialogPhoto:e.dialogsReducer.currentDialogPhoto,myPhoto:e.authReducer.userData.photos.small,messagesFetching:e.dialogsReducer.messagesFetching}},Va)(function(e){var t=Object(nt.c)({mapPropsToValues:function(e){return{currentDialogId:e.currentDialogId}},validationSchema:Wt.a().shape({newMessage:Wt.b().required("\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),handleSubmit:function(t){t.currentDialogId&&(Ha.play(),e.sendMessage(t.currentDialogId,t.newMessage))}})(Gt),a=Object(n.useRef)(null);return Object(n.useEffect)(function(){a.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[e.messages]),r.a.createElement("div",null,r.a.createElement("div",{className:Ca.a.messages},e.messagesFetching?r.a.createElement(Qe,null):e.messages.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(Wa,Object.assign({},t,{deleteMessage:e.deleteMessage,isMine:t.isMine||t.senderId===e.userId,currentDialogPhoto:e.currentDialogPhoto,myPhoto:e.myPhoto})))}),r.a.createElement("div",{ref:a})),r.a.createElement(t,{currentDialogId:e.currentDialogId}))}),Ba=function(e,t){return Object(y.b)(function(e){return{isAuthorized:e.authReducer.isAuthorized}},null)(function(a){return a.isAuthorized?r.a.createElement(e,Object.assign({},a,t)):r.a.createElement(P.a,{to:"/login"})})},Za={getDialogs:Ve,getMessages:Je,setCurrentDialogId:Ge,updateDialogs:He},qa=Object(gt.d)(Ba,P.g,Object(y.b)(function(e){return{dialogs:e.dialogsReducer.dialogs,isLoading:e.dialogsReducer.isLoading}},Za))(function(e){return Object(n.useLayoutEffect)(function(){if(window.scrollTo(0,0),0===e.dialogs.length){e.getDialogs();var t=e.match.params.userId;t&&(e.setCurrentDialogId(t),e.getMessages(t))}else console.log("here"),e.updateDialogs()},[]),e.isLoading?r.a.createElement(Qe,null):r.a.createElement("div",{className:ja.a.dialogsWrapper},r.a.createElement(La,null),r.a.createElement(Ja,null))}),Ka=a(122),Qa=a.n(Ka),Ya=function(){return r.a.createElement("div",{className:Qa.a.splashScreen},r.a.createElement("div",null,r.a.createElement("div",{className:Qa.a.picture},r.a.createElement("img",{src:h.a,alt:""}))))},Xa=a(25),$a=a.n(Xa),en=a(170),tn=a.n(en),an=a(171),nn=a.n(an),rn=function(){Object(n.useLayoutEffect)(function(){window.scrollTo(0,0)},[]);var e=[{icon:v.a,text:"Profile",link:"/profile"},{icon:w.a,text:"Users",link:"/users"},{icon:O.a,text:"Dialogs",link:"/dialogs"}];return r.a.createElement("div",{className:$a.a.home},r.a.createElement("div",{className:$a.a.title},"VIRAL"),r.a.createElement("div",{className:$a.a.logo},r.a.createElement("img",{src:h.a,alt:""})),r.a.createElement("div",{className:$a.a.pages},e.map(function(e,t){return r.a.createElement(_.b,{to:e.link,className:$a.a.page,key:t},r.a.createElement("img",{src:e.icon,alt:"x"}),r.a.createElement("div",{className:$a.a.pageText},e.text))})),r.a.createElement("div",{className:$a.a.pages},r.a.createElement(_.b,{to:"/login",className:$a.a.page},r.a.createElement("img",{src:tn.a,alt:"x"}),r.a.createElement("div",{className:$a.a.pageText},"Login")),r.a.createElement("a",{href:"https://social-network.samuraijs.com/signUp",className:$a.a.page,target:"_blank"},r.a.createElement("img",{src:nn.a,alt:"x"}),r.a.createElement("div",{className:$a.a.pageText},"SignUp"))))},sn={getProfile:Ie,getProfileStatus:je,setProfile:ye},on=Object(gt.d)(Ba,Object(y.b)(function(e){return{profile:e.profileReducer.profile,userData:e.authReducer.userData,authUserId:e.authReducer.userId,isLoading:e.profileReducer.isLoading}},sn),P.g)(function(e){return Object(n.useLayoutEffect)(function(){window.scrollTo(0,0),e.getProfile(e.authUserId),e.getProfileStatus(e.authUserId)},[]),e.isLoading?r.a.createElement(Qe,null):r.a.createElement("div",null,r.a.createElement(Pt,null),r.a.createElement(Zt,null))}),cn=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.appInitialize()}},{key:"render",value:function(){return this.props.isInitialized?r.a.createElement(_.a,null,r.a.createElement("div",{className:p.a.background}),r.a.createElement("div",{className:p.a.appWrapper},r.a.createElement(S,null),r.a.createElement("div",{className:p.a.mainWrapper},r.a.createElement(la,null),r.a.createElement("div",null,r.a.createElement("div",{className:p.a.content},r.a.createElement(P.d,null,r.a.createElement(P.b,{path:"/",exact:!0,component:rn}),r.a.createElement(P.b,{path:"/profile",exact:!0,component:on}),r.a.createElement(P.b,{path:"/profile/:userId?",component:Kt}),r.a.createElement(P.b,{path:"/dialogs/:userId?",component:qa}),r.a.createElement(P.b,{path:"/users",component:ft}),r.a.createElement(P.b,{path:"/login",component:_a})))),r.a.createElement(Pa,null)))):r.a.createElement(Ya,null)}}]),t}(n.Component),ln=Object(gt.d)(Object(y.b)(function(e){return{isInitialized:e.appReducer.isInitialized}},{appInitialize:function(){return function(){var e=Object(k.a)(j.a.mark(function e(t){var a,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ae());case 2:if(a=e.sent,t({type:"SET_IS_INITIALIZED",payload:!0}),0!==a.resultCode){e.next=9;break}return e.next=7,K();case 7:n=e.sent,t(Le(n));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(cn));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var un=a(172),mn=a(319),dn=Object(gt.c)({dialogsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var a={body:t.message,isMine:!0};return Object(M.a)({},e,{messages:[].concat(Object(T.a)(e.messages),[a])});case"GET_MESSAGES":return Object(M.a)({},e,{messages:t.messages.length>0?t.messages:[{body:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433",isMine:!0}]});case"DELETE_MESSAGE":return Object(M.a)({},e,{messages:e.messages.filter(function(e){return e.id!==t.payload})});case"SET_DIALOGS":return Object(M.a)({},e,{dialogs:t.payload});case"SET_CURRENT_DIALOG_ID":return Object(M.a)({},e,{currentDialogId:t.payload});case"SET_CURRENT_DIALOG_PHOTO":return Object(M.a)({},e,{currentDialogPhoto:t.payload});case"TOGGLE_IS_LOADING":return Object(M.a)({},e,{isLoading:t.payload});case"TOGGLE_MESSAGES_FETCHING":return Object(M.a)({},e,{messagesFetching:t.payload});default:return e}},profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={id:5,postText:t.newPostText,likes:Math.round(100*Math.random())};return Object(M.a)({},e,{posts:[].concat(Object(T.a)(e.posts),[a])});case"SET_PROFILE":return Object(M.a)({},e,{profile:t.profile});case"SET_CURRENT_PROFILE_ID":return Object(M.a)({},e,{currentProfileId:t.currentProfileId});case"TOGGLE_IS_LOADING":return Object(M.a)({},e,{isLoading:t.isLoading});case"SET_PROFILE_STATUS":return Object(M.a)({},e,{profileStatus:t.profileStatus});default:return e}},usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(M.a)({},e,{users:e.users.map(function(e){return e.id===t.id?Object(M.a)({},e,{followed:!0}):e})});case"UNFOLLOW":return Object(M.a)({},e,{users:e.users.map(function(e){return e.id===t.id?Object(M.a)({},e,{followed:!1}):e})});case"SET_USERS":return Object(M.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(M.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USER_COUNT":return Object(M.a)({},e,{totalUserCount:t.totalUserCount});case"TOGGLE_IS_LOADING":return Object(M.a)({},e,{isLoading:t.isLoading});case"TOGGLE_FOLLOWING_IN_PROGRESS":return Object(M.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(T.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter(function(e){return e!==t.userId})]});case"SET_SEARCH_VALUE":return Object(M.a)({},e,{searchValue:t.payload});case"SET_PORTION_NUMBER":return Object(M.a)({},e,{portionNumber:t.payload});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_DATA":return Object(M.a)({},e,t.data);case"SET_USER_DATA":return Object(M.a)({},e,{userData:t.data,isAuthorized:t.isAuthorized});case"SET_AUTH_ERROR":return Object(M.a)({},e,{authError:t.error});case"TOGGLE_IS_LOADING":return Object(M.a)({},e,{isLoading:t.payload});default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_INITIALIZED":return Object(M.a)({},e,{isInitialized:t.payload});case"SET_NEW_MESSAGE_COUNT":return Object(M.a)({},e,{newMessageCount:t.payload});default:return e}},form:mn.a}),pn=Object(gt.e)(dn,Object(gt.a)(un.a));o.a.render(r.a.createElement(y.a,{store:pn},r.a.createElement(ln,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,t,a){e.exports={footerWrapper:"Footer_footerWrapper__1JRQH",footer:"Footer_footer__24E85",top:"Footer_top__1r7ZE",item:"Footer_item__3na39",row:"Footer_row__3_DXd",icon:"Footer_icon__WZrYI",ref:"Footer_ref__1DvNN",website:"Footer_website__2CTXj"}},37:function(e,t,a){e.exports={user:"User_user__2WsdD",picture:"User_picture__3rg0I",followButton:"User_followButton__3jvdi",userInfo:"User_userInfo__3OqQw",name:"User_name__3hjvG",status:"User_status__2XRzK",location:"User_location__1jnyb",sendMessage:"User_sendMessage__1Ukiv"}},39:function(e,t,a){e.exports={headerWrapper:"Header_headerWrapper__2Qgri",header:"Header_header__k4xpG",appName:"Header_appName__1xt91",search:"Header_search__268VV",auth:"Header_auth__3I8Tu",bottom:"Header_bottom__2i33d",login:"Header_login__2GNQn",register:"Header_register__1373I"}},47:function(e,t,a){e.exports={pageNumbers:"Pagination_pageNumbers__2SCjr",currentPage:"Pagination_currentPage__EPtu7",pageNumber:"Pagination_pageNumber__2VjTW",disable:"Pagination_disable__3WDZc"}},50:function(e,t,a){e.exports={profileSmall:"ProfileSmall_profileSmall__2gqk2",photoSmall:"ProfileSmall_photoSmall__1_PbH",options:"ProfileSmall_options__21V8B",menu:"ProfileSmall_menu__1Gfvr",name:"ProfileSmall_name__1uKlG",likes:"ProfileSmall_likes__1Fhw-"}},51:function(e,t,a){e.exports={message:"Message_message__2wEWi",blob:"Message_blob__p_e3u",delete:"Message_delete__3K-LM",messageWrapper:"Message_messageWrapper__3kqJH",personMessage:"Message_personMessage__25SGx",photo:"Message_photo__3sMSS",date:"Message_date__3Vy0z"}},54:function(e,t,a){e.exports=a.p+"static/media/umbrella-logo.8fdeecf4.png"},69:function(e,t,a){e.exports={form:"ProfileInfoForm_form__1brgs",item:"ProfileInfoForm_item__26y4C",char:"ProfileInfoForm_char__3DUaJ",charValue:"ProfileInfoForm_charValue__W_ml1",button:"ProfileInfoForm_button__3RKGW"}},70:function(e,t,a){e.exports={myFriendsWrapper:"MyFriends_myFriendsWrapper__vyqo9",myFriends:"MyFriends_myFriends__2LN3n",friend:"MyFriends_friend__31swf"}},71:function(e,t,a){e.exports={field:"LoginForm_field__3hbEM",rememberMe:"LoginForm_rememberMe__1-YZP",errorMessage:"LoginForm_errorMessage__JsUF_"}},76:function(e,t,a){e.exports={info:"ProfileInfo_info__is5kU",infoAppear:"ProfileInfo_infoAppear__3olrM",avatar:"ProfileInfo_avatar__3cw5U",description:"ProfileInfo_description__lMRH2",characteristic:"ProfileInfo_characteristic__22cUu",name:"ProfileInfo_name__gu73k"}},78:function(e,t,a){e.exports={appWrapper:"App_appWrapper__1HMln",appear:"App_appear__2l4SW",mainWrapper:"App_mainWrapper__6FM4T",content:"App_content__1fI4M",background:"App_background__1PlVo"}},89:function(e,t,a){e.exports=a.p+"static/media/profileIcon.6b76fde3.png"},90:function(e,t,a){e.exports=a.p+"static/media/dialogIcon.6c93f562.png"},91:function(e,t,a){e.exports=a.p+"static/media/usersIcon.7f14165c.png"}},[[179,2,1]]]);
//# sourceMappingURL=main.a8bf198e.chunk.js.map